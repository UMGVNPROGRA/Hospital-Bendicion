<!-- Estructura de la página -->
<div class="bg-white min-h-screen flex flex-col lg:flex-row items-start justify-center p-4 lg:mt-24">

  <!-- Formulario de Crear Cita -->
  <form class="w-full lg:w-4/5 rounded shadow-md lg:ml-4 lg:min-h-screen flex flex-col items-center px-4 py-2" [formGroup]="citasForm" (ngSubmit)="onSubmitCita()">
    <div class="max-w-lg" >
    <h2 class="text-2xl font-bold mb-6 text-center">Crear Cita</h2>
      @if (mostrarBannerExito){
        <div class="bg-green-500 text-white text-center py-2 fixed top-0 left-0 right-0 z-50"> Cita guardada exitosamente. </div>
      }

    <div class="mb-4">
      <label class="block text-gray-700 font-bold mb-2" for="id_paciente">Paciente</label>
      <select formControlName="id_paciente" class="block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8 rounded leading-tight focus:outline-none focus:shadow-outline" id="id_paciente" name="id_paciente">
        @for (paciente of pacientes; track paciente.id_paciente){
          <option value="{{paciente.id_paciente}}"> {{paciente.nombre}} {{paciente.apellido}} - {{paciente.dpi}}</option>
        }
      </select>
    </div>

    <div class="mb-4">
      <label class="block text-gray-700 font-bold mb-2" for="fecha_cita">Fecha y Hora</label>
      <input formControlName="fecha_cita" type="datetime-local" class="block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 rounded leading-tight focus:outline-none focus:shadow-outline sm:text-sm" id="fecha_cita" name="fecha_cita">
    </div>

    <div class="mb-4">
      <label class="block text-gray-700 font-bold mb-2" for="descripcion">Descripción</label>
      <textarea formControlName="descripcion" class="block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 rounded leading-tight focus:outline-none focus:shadow-outline" id="descripcion" name="descripcion" rows="3" placeholder="Descripción de la cita"></textarea>
    </div>

    <div class="mb-4">
      <label class="block text-gray-700 font-bold mb-2" for="id_usuario">Usuario</label>
      <select  formControlName="id_usuario" class="block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8 rounded leading-tight focus:outline-none focus:shadow-outline" id="id_usuario" name="id_usuario">
        <option value="">Selecciona un usuario</option>
        @for (usuario of usuarios; track usuario.idUsuario){
          <option value="{{usuario.idUsuario}}">{{usuario.username}}</option>
        }
      </select>
    </div>

    <div class="mb-4">
      <label class="block text-gray-700 font-bold mb-2" for="id_medico">Médico</label>
      <select formControlName="id_medico" class="block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8 rounded leading-tight focus:outline-none focus:shadow-outline" id="id_medico" name="id_medico">
        @for (medico of medicos; track medico.id_medico){
          <option value="{{medico.id_medico}}">{{medico.nombre_medico}} {{medico.apellido_medico}} - {{medico.id_medico}}</option>
        }
      </select>
    </div>

    <div class="flex items-center justify-between">
      <button class="shadow bg-purple-500 hover:bg-purple-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded" type="submit">
        Crear Cita
      </button>
    </div>
    </div>
  </form>
</div>
